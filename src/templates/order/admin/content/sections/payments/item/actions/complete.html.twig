{% set refund_payment = hookable_metadata.context.refund_payment %}

{% if sylius_sm_can(refund_payment, constant('Sylius\\RefundPlugin\\StateResolver\\RefundPaymentTransitions::GRAPH'), constant('Sylius\\RefundPlugin\\StateResolver\\RefundPaymentTransitions::TRANSITION_COMPLETE')) %}
    <form action="{{ path('sylius_refund_complete_refund_payment', {'orderNumber': refund_payment.order.number, 'id': refund_payment.id}) }}" method="POST" {{ sylius_test_html_attribute('refund-complete-button') }}>
        <button type="submit" class="btn">
            {{ ux_icon('tabler:check') }} {{ 'sylius.ui.complete'|trans }}
        </button>
    </form>
{% endif %}
