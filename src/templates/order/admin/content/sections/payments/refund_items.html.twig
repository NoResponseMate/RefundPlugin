{% set order = hookable_metadata.context.resource %}
{% set refund_payments = get_all_refund_payments_by_order(order) %}

<div class="py-3">
    {% if order.hasPayments %}
        <div class="table-responsive">
            <table class="table table-vcenter table-borderless table-sm card-table">
                <tbody>
                {% for refund_payment in refund_payments %}
                    <tr {{ sylius_test_html_attribute('refund') }}>
                        {% hook 'refund_item' with { resource: order, refund_payment } %}
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <span class="px-3 text-secondary italic" {{ sylius_test_html_attribute('no-payments') }}>{{ 'sylius.ui.no_payments'|trans }}</span>
    {% endif %}
</div>
